<%- include('header') -%>
<link rel="stylesheet" href="/styles/home.css">
<script src="https://kit.fontawesome.com/fd7e4b7ef5.js" crossorigin="anonymous"></script>

style{
  * {
    box-sizing: border-box;
  }
  
  .column {
    float: left;
    width: 22%;
    padding: 0 10px;
    margin: 2rem;
  }
  
  .row {margin: 1rem;}
  
  .row:after {
    content: "";
    display: table;
    clear: both;
  }
  
  .card {
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2); /* this adds the "card" effect */
    padding: 16px;
    text-align: center;
    background-color: #f1f1f1;
  }
  
  .load{
    position: absolute;
    right: 1rem;
    bottom: 1rem;    
  }
  a{
    color: white;
  }
}
<nav class="navbar fixed-top navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><i class="fas fa-gifts"></i>&nbsp;ClickNBuy</a>
    <a class="float-right" href="/"><i class="fas fa-home"></i>Home</a>
    <a class="float-right" href="/login"><i class="fas fa-sign-in-alt"></i>Login</a>
    <a class="float-right" href="/signup"><i class="fas fa-user-plus"></i>SignUp</a>
    <button type="button" class="btn btn-outline-warning"><a href="/my_cart"><i class="fas fa-shopping-cart"></i>My Cart</a></button>
    <a href="/logout"><i class="fas fa-sign-out-alt"></i>Logout</a>
  </div>
</nav>


<div style="padding: 3rem">
    <% products.forEach(function(product){ %>
        <div class="row column card">
            <img style="width:100%" src="/images/<%= product.image %>"/>
            <h4> <%= product.title %> </h4>
            <details>
            <summary>View Description</summary>
            <p>M.R.P: <%= product.price %><br>Product Details: <%= product.description %><br></p>
            </details>

            <% if(cart_items[product.id]){ %>
            <button type="button" class="btn btn-outline-dark" id="<%= product.id %>" class="add_to_cart" disabled>Added to Cart</button>

            <% }else{ %>
            <button type="button" class="btn btn-outline-dark" id="<%= product.id %>" class="add_to_cart"><a href="/add_to_cart?id=<%= product.id %>" style="color: #0d6efd; text-decoration: none;">Add to Cart</a></button>
            <% } %>

        </div>
    <% }) %>
</div>


<%- include('footer') -%>

